<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pourfect - Drink & Rate</title>
  <meta name="description" content="Descubre y califica los mejores tragos y c√≥cteles con Pourfect">
  <link rel="stylesheet" href="style.css">
  <script src="datos/tragos.js" defer></script>
  <script src="js/api.js" defer></script>
  <script src="script.js" defer></script>
</head>
<body>
  <!-- HEADER UNIFICADO -->
  <header class="topbar" id="topbar">
    <div class="logo-box">
      <img src="imagenes/logo-mini.png" alt="Mini Logo" class="logo-mini">
      <div class="titulo-header">
        Pourfect <span class="subtitulo">Drink & Rate</span>
      </div>
    </div>

    <!-- Controles de b√∫squeda -->
    <div class="nav-search">
      <input type="text" id="busqueda" placeholder="Buscar trago..." aria-label="Buscar tragos">
      <select id="filtro" aria-label="Filtrar por tipo">
        <option value="todos">Todos</option>
        <option value="con-alcohol">Con alcohol</option>
        <option value="sin-alcohol">Sin alcohol</option>
        <option value="postre">Postres</option>
        <option value="shot">Shots</option>
        <option value="tropical">Tropicales</option>
        <option value="clasico">Cl√°sicos</option>
        <option value="trending">Trending</option>
      </select>
      <button id="btnBuscarUsuarios" onclick="mostrarBusquedaUsuarios()" class="btn small" title="Buscar usuarios">üë•</button>
    </div>

    <nav class="nav-right">
      <!-- Antes de iniciar sesi√≥n -->
      <button id="btnLogin" onclick="mostrarLogin()" class="btn small">Iniciar sesi√≥n</button>
      <button id="btnRegistro" onclick="mostrarRegistro()" class="btn small">Registrarse</button>

      <!-- Despu√©s de iniciar sesi√≥n -->
      <button id="btnPerfil" onclick="mostrarPerfil()" class="btn small oculto">Perfil</button>
      <button id="btnCerrar" onclick="cerrarSesion()" class="btn small oculto">Cerrar sesi√≥n</button>
    </nav>
  </header>

  <main id="main">
    <!-- Pantalla 1 - Portada -->
    <section id="pantalla1" class="pantalla activa">
      <div class="portada-wrap">
        <img src="imagenes/logo-portada.png" alt="Logo Pourfect" class="logo-portada">
      </div>
    </section>

    <!-- Pantalla 3 - Login/Registro -->
    <section id="pantalla3" class="pantalla">
      <div class="login-content">
        <!-- Imagen principal en el centro -->
        <div class="main-image-container">
          <img src="imagenes/pant2.png" alt="Descripci√≥n de funcionalidades" class="main-image" id="pant2Image">
          <div class="sparkle sparkle-1">‚ú®</div>
          <div class="sparkle sparkle-2">‚ú®</div>
          <div class="sparkle sparkle-3">‚ú®</div>
        </div>
        
        <!-- Imagen de pie de p√°gina -->
        <div class="footer-image-container">
          <img src="imagenes/tomenybeban.png" alt="Vasos y copas de c√≥cteles" class="footer-image" id="tomenImage">
          <div class="bounce-icon bounce-1">üç∏</div>
          <div class="bounce-icon bounce-2">üçπ</div>
          <div class="bounce-icon bounce-3">ü•É</div>
        </div>
        
      </div>
      
      <div id="formularios" class="formularios"></div>
    </section>

    <!-- Pantalla 4 - Men√∫ de tragos -->
    <section id="pantalla4" class="pantalla">
      <div id="lista-tragos" class="grid" role="grid" aria-label="Lista de tragos"></div>
    </section>

    <!-- Pantalla Perfil -->
    <section id="pantallaPerfil" class="pantalla">
      <main class="main-content perfil">
        <div class="perfil-top">
          <img id="perfilFoto" src="imagenes/avatar.png" alt="Foto de perfil" class="perfil-foto">
          <div class="perfil-meta">
            <p id="perfilUsuario">@usuario</p>
            <p id="perfilBio">Biograf√≠a (m√°x 30 caracteres)</p>
            <div class="perfil-buttons">
              <button id="btnVerFavoritos" class="btn">Mis Favoritos</button>
              <button id="btnEditarPerfil" class="btn">Editar perfil</button>
              <button id="btnInfoGeneral" onclick="cambiarPantalla('pantallaInfo')" class="btn">Info. sobre tragos</button>
              <button onclick="cerrarSesion()" class="btn" style="background: #666;">Cerrar sesi√≥n</button>
            </div>
          </div>
        </div>

        <section>
          <h3>Mis favoritos</h3>
          <div id="perfilFavoritos" class="grid" role="grid" aria-label="Tragos favoritos"></div>
        </section>

        <section>
          <h3>Agregar nuevo trago</h3>
          <form id="formAgregarTrago" enctype="multipart/form-data" class="form-vertical">
            <input type="text" name="nombre" placeholder="Nombre del trago" required aria-label="Nombre del trago">
            <select name="tipo" required aria-label="Tipo de trago">
              <option value="con-alcohol">Con alcohol</option>
              <option value="sin-alcohol">Sin alcohol</option>
              <option value="postre">Postre</option>
              <option value="shot">Shot</option>
              <option value="tropical">Tropical</option>
              <option value="clasico">Cl√°sico</option>
              <option value="trending">Trending</option>
            </select>
            <textarea name="descripcion" placeholder="Descripci√≥n" maxlength="500" required aria-label="Descripci√≥n del trago"></textarea>
            <textarea name="ingredientes" placeholder="Ingredientes (separados por coma)" required aria-label="Lista de ingredientes"></textarea>
            <textarea name="pasos" placeholder="Pasos (separados por salto de l√≠nea)" required aria-label="Pasos de preparaci√≥n"></textarea>
            <input type="file" name="imagen" accept="image/*" required aria-label="Imagen del trago">
            <button type="submit" class="btn">Guardar trago</button>
          </form>
        </section>
      </main>
    </section>

    <!-- Pantalla Info -->
    <section id="pantallaInfo" class="pantalla">
      <main class="main-content">
        <h2>Informaci√≥n general sobre tragos</h2>
        <p class="lead">Aqu√≠ pod√©s poner materiales, t√©cnicas, herramientas y tips.</p>
        
        <article class="info-card">
          <h3>Materiales</h3>
          <ul>
            <li>Vasos: old fashioned, highball, copa de c√≥ctel.</li>
            <li>Herramientas: coctelera, colador, muddler, medidor (jigger).</li>
          </ul>
        </article>
        
        <article class="info-card">
          <h3>T√©cnicas</h3>
          <ul>
            <li>Macerar (muddling)</li>
            <li>Agitar (shaking)</li>
            <li>Remover (stirring)</li>
            <li>Colado simple y doble colado</li>
          </ul>
        </article>
        
        <article class="info-card">
          <h3>Consejos</h3>
          <ul>
            <li>Us√° ingredientes frescos para mejores resultados.</li>
            <li>Med√≠ con jigger para consistencia.</li>
            <li>Enfri√° las copas cuando haga falta.</li>
          </ul>
        </article>
      </main>
    </section>

    <!-- Pantalla B√∫squeda de Usuarios -->
    <section id="pantallaBuscarUsuarios" class="pantalla">
      <main class="main-content">
        <h2>üîç Buscar Usuarios</h2>
        <p class="lead">Encuentra usuarios y ve sus tragos creados</p>
        
        <div class="search-users-container">
          <div class="search-input-container">
            <input type="text" id="busquedaUsuarios" placeholder="Buscar por nombre de usuario..." class="search-input">
            <button onclick="buscarUsuarios()" class="btn">Buscar</button>
          </div>
          
          <div id="resultadosUsuarios" class="usuarios-grid">
            <!-- Los resultados se mostrar√°n aqu√≠ -->
          </div>
        </div>
      </main>
    </section>
  </main>

  <!-- Modal de detalle (disponible en todas las pantallas) -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true" aria-labelledby="modalTitulo">
    <div class="modal-content modal-flex">
      <button id="cerrarModal" class="close" aria-label="Cerrar modal">‚úï</button>
      <div class="modal-left">
        <img id="modalImagen" alt="Imagen del trago" class="modal-img">
      </div>
      <div class="modal-right">
        <h2 id="modalTitulo"></h2>
        <p id="modalDescripcion"></p>
        <h4>Ingredientes</h4>
        <ul id="modalIngredientes"></ul>
        <h4>Paso a paso</h4>
        <ol id="modalPasos"></ol>
        <div id="modalEstrellas" class="modal-estrellas"></div>
      </div>
    </div>
  </div>
</body>
</html>